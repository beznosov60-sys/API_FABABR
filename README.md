# КАД Трекер (Vue 3 SPA)

Платформа на Vue 3 для отслеживания судебных процессов через API [kad.arbitr.ru](https://kad.arbitr.ru/). Приложение позволяет искать дела по различным параметрам, открывать детальную карточку, просматривать историю событий и скачивать PDF-документы.

## Стек
- Vue 3 (Composition API)
- Vite
- vue-router
- pinia
- axios
- Express (прокси к API КАД)

## Быстрый старт
1. Установите зависимости:
   ```bash
   npm install
   ```
2. Установите переменную окружения с ключом КАД (или оставьте встроенный демо-ключ):
   ```bash
   export KAD_API_KEY=<ваш_API_ключ>
   ```
3. Запустите бэкенд-прокси (порт `3001`):
   ```bash
   node server.js
   ```
4. В отдельном терминале запустите dev-сервер Vite:
   ```bash
   npm run dev
   ```
5. Перейдите по адресу, указанному Vite (по умолчанию `http://localhost:5173`).

## Переменные окружения
Используется только переменная `KAD_API_KEY` для прокси-сервера. Если её не задать, используется демо-ключ из репозитория.

## Структура проекта
- `src/main.js` — инициализация приложения, подключение Pinia и маршрутизатора.
- `src/router/index.js` — маршруты поиска и карточки дела.
- `src/stores/cases.js` — состояние поиска, карточки и событий дела через Pinia.
- `src/services/kadApi.js` — обёртка над локальным бэкендом `/api/*`.
- `src/views/CaseSearchView.vue` — поиск дел и вывод списка результатов.
- `src/views/CaseDetailView.vue` — карточка дела, таймлайн событий и скачивание PDF.
- `src/components/*` — UI-компоненты (форма поиска, список дел, карточка, таймлайн).
- `src/styles/main.css` — базовые стили и цвета интерфейса.
- `server.js` — express-прокси к KAD API.

## Основные сценарии
- **Поиск дел** — фильтры по номеру, ИНН, названию стороны, диапазону дат, типу дела, суду.
- **Карточка дела** — стороны (ИНН/ОГРН/адрес), статус, судья, тип, календарь заседаний, документы.
- **История событий** — даты, типы событий, комментарии, суммы исков, инициатор, ссылки на документы.
- **Скачивание PDF** — кнопка "Скачать PDF" получает файл через локальный эндпоинт `/api/pdf?url=...`.

## Прокси-эндпоинты
- `POST /api/search` → `kadapi/v1.0/search`
- `GET /api/card` → `kadapi/v1.0/card`
- `GET /api/card/events` → `kadapi/v1.0/card/events`
- `GET /api/pdf` — скачивание PDF по ссылке из КАД

## Ссылки на API КАД
- Официальный портал: https://kad.arbitr.ru/
- Пример описания методов: https://kad.arbitr.ru/KadApi/help
